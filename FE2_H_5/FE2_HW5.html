<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>FE2_HW5</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
		<style>
			body, div, p, table {
				margin: 0;
				padding: 0;
			}
			
			div#float_left {
				display: inline-block;
			}

			div#control_panel_column {
				display: inline-block;
				float: right;
			}

			table {
				float: right;
				border: 3px solid gray;
				width: 400px;
				height: 460px;
				text-align: center; 
				border-collapse: collapse;
			}
			

			th, td {
			    border: 1px solid black;
			    /*border-collapse: collapse;*/ 
			}
			
			input[type="number"] 
			{
			   width: 80px;
			   padding: 0px;
			   margin: 0px;
			}

			#snimka {
				border-radius: 50%;
				bottom:0px;
				left:0px;	
				margin-bottom: 5%;
				position: absolute;
			}
			
			#needle
			{
				height:520px;
				position: fixed;
				top:0px;
				left:0px;				
			}

			#output_consolev{
				font-family:Consolas;
				font-size:18px;
				font-weight:bold;
				position:fixed;
				right:0px;
				top:0px;
				padding-right:10px;
			}
			.pic {
				border-radius: 50%;
				bottom:0px;
				left:0px;	
				position: absolute;	
			}
			
		</style>
	</head>
	<body>
		<div id="float_left">
			<p id="output_console"></p>
			<img id="snimka" src="vladi.jpg" alt="pic" />
			<img id="needle" src="http://www.fragileoasis.org/static/images/badges/empty.png" alt="needle" />
		</div>
		<div id="control_panel_column">
			<table id="control_panel">
			  <tr>
	    		<th colspan="3">Control Panel</th>
	  		  </tr>
			  <tr>
			    <td><input type="number" name="value" class="radius" value="50" min="0" max="50" id="tl" /></td>
			    <td><input type="button" data-direction="top" id="move_top" value="Горе" /></td>		
			    <td><input type="number" name="value" class="radius"  value="50" min="0" max="50" id="tr" /></td>
			  </tr>
			  <tr>
			    <td><input type="button" data-direction="left" id="move_left" value="Ляво" /></td>
			    <td><input type="number" name="value" class="radius" value="50" min="0" max="50" id="all" /></td>		
			    <td><input type="button" data-direction="right" id="move_right" value="Дясно" /></td>
			  </tr>
			  <tr>
			    <td><input type="number" name="value" class="radius"  value="50" min="0" max="50" id="bl" /></td>
			    <td><input type="button" data-direction="bottom" id="move_bottom" value="Долу" /></td>		
			    <td><input type="number" name="value" class="radius"  value="50" min="0" max="50" id="br" /></td>
			  </tr>
			  <tr>
	    		<th colspan="3">Borders Panel</th>
	  		  </tr>
			   <tr>
			    <td><input type="text" name="up" value="Горна" /></td>	
			    <td colspan="3">
			    	<input type="number" name="value" class="border" value="4" min="0" max="10" step="1" id="border-top" />
					<select class="style" id="style-up">
					  <option value="dotted" selected="selected">dotted</option>
					  <option value="dashed">dashed</option>
					  <option value="double">double</option>
					  <option value="ridge">ridge</option>
					  <option value="solid">solid</option>
					</select>
					<input type="color" name="favcolor" class="color" value="#59C6B0" id="darkgreen" />
			    </td>
			  </tr>
			  <tr>
			    <td><input type="text" name="right" value="Дясна" /></td>	
			    <td colspan="3">
			    	<input type="number" name="value" class="border" value="4" min="0" max="10" step="1" id="border-right" />
					<select class="style" id="style-right">
					  <option value="dotted">dotted</option>
					  <option value="dashed" selected="selected">dashed</option>
					  <option value="double">double</option>
					  <option value="ridge">ridge</option>
					  <option value="solid">solid</option>
					</select>
				 	<input type="color" name="favcolor" class="color" value="#F84227" id="red" />
			    </td>
			  </tr>
			  <tr>
			    <td><input type="text" name="bottom" value="Долна" /></td>	
			    <td colspan="3">
			    	<input type="number" name="value" class="border" value="4" min="0" max="10" step="1" id="border-bottom" />
					<select class="style" id="style-bottom">
					  <option value="dotted">dotted</option>
					  <option value="dashed">dashed</option>
					  <option value="double" selected="selected">double</option>
					  <option value="ridge">ridge</option>
					  <option value="solid">solid</option>
					</select>
			    	<input type="color" name="favcolor" class="color" value="#FFFF00" id="yellow" />
			    </td>
			  </tr>
			  <tr>
			    <td><input type="text" name="left" value="Лява" /></td>	
			    <td colspan="3">
			    	<input type="number" name="value" class="border" value="4" min="0" max="10" step="1" id="border-left" />
			    	<select class="style" id="style-left">
					  <option value="dotted">dotted</option>
					  <option value="dashed">dashed</option>
					  <option value="double">double</option>
					  <option value="ridge" selected="selected">ridge</option>
					  <option value="solid">solid</option>
					</select>
			       <input type="color" name="favcolor" class="color" value="#46B5D9" id="blue" />
			    </td>
			  </tr>
			  <tr>
			    <td><input type="text" name="all" value="Всички" /></td>
			    <td colspan="3">
					<input type="number" name="value" class="border" value="4" min="0" max="10" step="1" id="border-all" />
					<select class="style" id="style-all">
					  <option value="dotted">dotted</option>
					  <option value="dashed">dashed</option>
					  <option value="double">double</option>
					  <option value="ridge">ridge</option>
					  <option value="solid" selected="selected">solid</option>
					</select>
			    	<input type="color" name="favcolor" class="color" value="#9EF529" id="green" />
			    </td>
			  </tr>
			</table>
		</div>
		<script>
			var cur_pos_x;
			var cur_pos_y;
			var move_speed = 50;	
			var output_console;
			var is_half = false;
			
			function move_pic(new_direction)
			{
				output_console.html('');
				
				switch(new_direction)
				{
					case 'right': cur_pos_x = Number($('#snimka').offset().left) + move_speed; break;
					case 'left': cur_pos_x = Number($('#snimka').offset().left) - move_speed; break;
					case 'top': cur_pos_y = Number($('#snimka').offset().top) - move_speed; break;
					case 'bottom': cur_pos_y = Number($('#snimka').offset().top) + move_speed; break;
					default: output_console.html('wrong direction: '+new_direction); break;
				}
				
				console.log(cur_pos_x);
				console.log(cur_pos_y);
				
				$('#snimka').css('left', cur_pos_x);
				$('#snimka').css('top', cur_pos_y);
			}

			function lock_pic()
			{
				$('body').html($('body').html() + '<img class="pic" src="vladi.jpg" alt="pic" style="left:'+cur_pos_x+'px; top:'+cur_pos_y+'px;" />');
			}
			
			$(document).ready(function () {
				output_console = $('#output_console');
				cur_pos_x = 0;
				cur_pos_y = 0;
				
				$('input[type=button]').click(function () {
					move_pic($(this).data('direction'));	
				});	
				
				$('#snimka').click(function (){
					lock_pic();
				});

				$(document).ready(function () {
			    var $codearea =  $("#snimka");
			    $('.radius').on('click', function() {
			        var newRad = $(this).val() + "%",
			            corner;
			        switch($(this).attr('id')) {
			            case 'tl' :
			                corner = "border-top-left-radius";
			                break;
			            case 'tr' :
			               corner = "border-top-right-radius";
			               break;
			            case 'bl' :
			               corner = "border-bottom-left-radius";
			               break;
			            case 'br' :
			               corner = "border-bottom-right-radius";
			               break;   
		               case 'all' :
		                   corner = "border-radius";
		                   break;              
			        }
			        $codearea.css(corner, newRad);
			    });
			});
			// http://jsfiddle.net/9o83vh2p/2/

			$('.border').change(function(){
		        thisId = $(this).attr('id');
		        var value = $(this).val();

		       if(value <= 10 && value >= 0)
		       {    
		            switch(thisId)
		            {
		                case 'border-top': $('#snimka').css('borderTopWidth' , value + 'px'); break;
		                case 'border-right': $('#snimka').css('borderRightWidth' , value + 'px'); break;
		                case 'border-bottom': $('#snimka').css('borderBottomWidth' , value + 'px'); break;
		                case 'border-left': $('#snimka').css('borderLeftWidth' , value + 'px'); break;
		                case 'border-all': $('#snimka').css('borderWidth' , value + 'px');break;
		                default: alert('error');
		            }
		       }
		       else
		       {
		        alert('Border width must be between 1 and 10');
		       }
		    });

			$("#style-up").change(function () {
          		var str = $("#style-up option:selected").val();
    				$("#snimka").css('border-top-style', str);

    			var color = $("#darkgreen").val();
                    $("#snimka").css('border-top-color', color);
        		})
        	.change();

        	$("#style-right").change(function () {
          		var str = $("#style-right option:selected").val();
    				$("#snimka").css('border-right-style', str);

    			var color = $("#red").val();
                    $("#snimka").css('border-right-color', color);		
        		})
        	.change();

        	$("#style-bottom").change(function () {
          		var str = $("#style-bottom option:selected").val();
    				$("#snimka").css('border-bottom-style', str);

    			var color = $("#yellow").val();
                    $("#snimka").css('border-bottom-color', color);
        		})
        	.change();

        	$("#style-left").change(function () {
          		var str = $("#style-left option:selected").val();
    				$("#snimka").css('border-left-style', str);

    			var color = $("#blue").val();
                    $("#snimka").css('border-left-color', color);	
        		})
        	.change();

        	$("#style-all").change(function () {
          		var str = $("#style-all option:selected").val();
    				$("#snimka").css('border-style', str);

    			var color = $("#green").val();
                    $("#snimka").css('border-color', color);	
        		})
        	.change();

        	// http://jsfiddle.net/2wfVj/11/
        	// http://www.cssbasics.com/chapter_13_css_borders.html

				$('#switch_button').click(function (){
					if(is_half == false)
					{
						$('#control_panel').css('top', '50%');
						$('#control_panel_column').css('top', '50%');
					}
					else
					{
						$('#control_panel').css('top', '100px');
						$('#control_panel_column').css('top', '100px');
					}
					
					is_half = !is_half;
				});
			});

		</script>
	</body>
</html>